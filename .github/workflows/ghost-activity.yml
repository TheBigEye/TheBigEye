name: ğŸ‘» My Ghost

on:
  schedule:
    - cron: '0 */4 * * *'  # Each 4 hours...
  workflow_dispatch:
    inputs:
      preview:
        description: 'ğŸ‘ï¸ Show my cooooommiiits'
        type: boolean
        default: false

jobs:
  generate-activity:
    runs-on: ubuntu-latest
    
    steps:
      - name: ğŸ‘» Checkout repository
        uses: actions/checkout@v4
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
          fetch-depth: 0

      - name: âš™ï¸ Configure Git
        run: |
          git config user.name "TheBigEye"
          git config user.email "thebigeyedev@gmail.com"

      - name: ğŸ¨ Generate Art
        env:
          PREVIEW_ONLY: ${{ github.event.inputs.preview }}
        run: |
          # â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
          # â•‘                                          ğŸ¨ PIXEL ART CANVAS                                               â•‘
          # â•‘                                                                                                            â•‘
          # â•‘  ğŸ“ Dimensions: 53 columns Ã— 7 rows (53 weeks Ã— 7 days)                                                    â•‘
          # â•‘  ğŸ¯ Values: 0 = empty (not commits) | 1 = coloured pixel (1-6 commits random)                              â•‘
          # â•‘                                                                                                            â•‘
          # â•‘  ğŸ“… Las filas representan dÃ­as de la semana:                                                               â•‘
          # â•‘     Fila 1 = Domingo                                                                                       â•‘
          # â•‘     Fila 2 = Lunes                                                                                         â•‘
          # â•‘     Fila 3 = Martes                                                                                        â•‘
          # â•‘     Fila 4 = MiÃ©rcoles                                                                                     â•‘
          # â•‘     Fila 5 = Jueves                                                                                        â•‘
          # â•‘     Fila 6 = Viernes                                                                                       â•‘
          # â•‘     Fila 7 = SÃ¡bado                                                                                        â•‘
          # â•‘                                                                                                            â•‘
          # â•‘  ğŸ’¡ Tip: DiseÃ±a tu arte en un editor de texto y copia aquÃ­                                                 â•‘
          # â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
          
          # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
          #  ğŸ–¼ï¸ TU DISEÃ‘O AQUÃ - Ejemplo: Texto "HELLO GITHUB"
          # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
          
          read -r -d '' PIXEL_ART << 'CANVAS' || true
          1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
          1 0 0 1 0 1 0 0 0 0 1 0 0 1 1 1 0 0 1 1 1 0 0 0 0 1 1 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 1 0 1
          1 0 0 1 0 1 0 0 1 1 1 0 0 1 1 1 0 0 1 1 1 0 0 1 0 1 1 1 0 0 1 1 1 0 0 1 0 1 0 0 1 1 1 0 0 1 1 1 0 0 0 0 1
          1 0 0 0 0 1 0 0 0 1 1 0 0 1 1 1 0 0 1 1 1 0 0 1 0 1 1 1 0 0 0 0 1 0 0 0 1 1 0 0 0 1 1 0 0 0 1 1 0 0 0 0 1
          1 0 0 1 0 1 0 0 1 1 1 0 0 1 1 1 0 0 1 1 1 0 0 1 0 1 1 1 0 0 1 0 1 0 0 1 0 1 0 0 1 1 1 0 0 1 1 1 0 0 1 0 1
          1 0 0 1 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 1 1 0 0 0 0 1 0 0 1 0 1 0 0 0 0 1 0 0 0 0 1 0 0 1 0 1
          1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
          CANVAS

          # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
          #  ğŸ”§ LÃ“GICA DEL WORKFLOW (no necesitas modificar nada debajo de esta lÃ­nea)
          # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
          
          echo ""
          echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
          echo "â•‘           ğŸ‘» GHOST ACTIVITY ART GENERATOR ğŸ‘»                 â•‘"
          echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          echo ""
          
          # Convertir el arte a un array
          IFS=' ' read -r -a PIXELS <<< "$(echo "$PIXEL_ART" | tr '\n' ' ')"
          TOTAL_PIXELS=${#PIXELS[@]}
          EXPECTED_PIXELS=$((53 * 7))  # 371 pixels
          
          echo "ğŸ“Š ValidaciÃ³n del canvas:"
          echo "   â†’ Pixels encontrados: $TOTAL_PIXELS"
          echo "   â†’ Pixels esperados: $EXPECTED_PIXELS"
          
          if [ "$TOTAL_PIXELS" -ne "$EXPECTED_PIXELS" ]; then
            echo ""
            echo "âš ï¸  Â¡Advertencia! El canvas no tiene las dimensiones correctas (53Ã—7)"
            echo "   Se usarÃ¡n los pixels disponibles..."
          fi
          echo ""
          
          # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
          # ğŸ“… Calcular quÃ© dÃ­a del aÃ±o es hoy
          # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
          
          YEAR=$(date +%Y)
          START_DATE="${YEAR}-01-01"
          
          # Ajustar al primer domingo
          START_DOW=$(date -d "$START_DATE" +%w)
          if [ "$START_DOW" -ne 0 ]; then
            DAYS_TO_SUNDAY=$((7 - START_DOW))
            START_DATE=$(date -d "$START_DATE + $DAYS_TO_SUNDAY days" +%Y-%m-%d)
          fi
          
          START_EPOCH=$(date -d "$START_DATE" +%s)
          CURRENT_EPOCH=$(date +%s)
          DAYS_ELAPSED=$(( (CURRENT_EPOCH - START_EPOCH) / 86400 ))
          
          # Calcular semana y dÃ­a
          CURRENT_WEEK=$((DAYS_ELAPSED / 7))
          CURRENT_DAY=$((DAYS_ELAPSED % 7))
          
          # Ãndice en el array (columna * 7 + fila)
          PIXEL_INDEX=$((CURRENT_WEEK * 7 + CURRENT_DAY))
          
          echo "ğŸ“… InformaciÃ³n de fecha:"
          echo "   â†’ Fecha inicio grÃ¡fico: $START_DATE"
          echo "   â†’ DÃ­as transcurridos: $DAYS_ELAPSED"
          echo "   â†’ Semana actual: $CURRENT_WEEK (de 53)"
          echo "   â†’ DÃ­a de la semana: $CURRENT_DAY (0=Dom, 6=SÃ¡b)"
          echo "   â†’ Ãndice del pixel: $PIXEL_INDEX"
          echo ""
          
          # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
          # ğŸ‘ï¸ Modo Preview - MUESTRA TODO EL BANNER
          # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
          
          if [ "$PREVIEW_ONLY" = "true" ]; then
            echo "ğŸ‘ï¸ MODO PREVIEW - No se realizarÃ¡n commits"
            echo ""
            echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
            echo "                                    ğŸ¨ VISTA COMPLETA DEL CANVAS (53 semanas Ã— 7 dÃ­as)"
            echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
            echo ""
            
            # Header con nÃºmeros de semana (cada 5 semanas)
            printf "        "
            for week in $(seq 0 52); do
              if [ $((week % 5)) -eq 0 ]; then
                printf "%-5s" "$week"
              else
                printf " "
              fi
            done
            echo ""
            
            # LÃ­nea separadora superior
            printf "       â”Œ"
            for week in $(seq 0 52); do
              printf "â”€"
            done
            printf "â”\n"
            
            # DÃ­as de la semana
            DAYS=("Dom" "Lun" "Mar" "MiÃ©" "Jue" "Vie" "SÃ¡b")
            
            for row in 0 1 2 3 4 5 6; do
              printf "  %s â”‚" "${DAYS[$row]}"
              
              for week in $(seq 0 52); do
                idx=$((week * 7 + row))
                if [ "$idx" -lt "$TOTAL_PIXELS" ]; then
                  if [ "$idx" -eq "$PIXEL_INDEX" ]; then
                    # DÃ­a actual - marcador especial
                    printf "ğŸ”µ"
                  elif [ "${PIXELS[$idx]}" -eq 1 ]; then
                    printf "ğŸŸ©"
                  else
                    printf "â¬œ"
                  fi
                else
                  printf " "
                fi
              done
              printf "â”‚\n"
            done
            
            # LÃ­nea separadora inferior
            printf "       â””"
            for week in $(seq 0 52); do
              printf "â”€"
            done
            printf "â”˜\n"
            
            echo ""
            echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
            echo ""
            echo "ğŸ“Š LEYENDA:"
            echo "   ğŸ”µ = DÃ­a actual (Semana $CURRENT_WEEK, DÃ­a $CURRENT_DAY)"
            echo "   ğŸŸ© = Pixel activo (generarÃ¡ commits)"
            echo "   â¬œ = Pixel vacÃ­o (sin commits)"
            echo ""
            echo "ğŸ“ˆ ESTADÃSTICAS:"
            
            # Contar pixels activos
            ACTIVE_PIXELS=0
            EMPTY_PIXELS=0
            COMPLETED_ACTIVE=0
            COMPLETED_EMPTY=0
            REMAINING_ACTIVE=0
            
            for i in $(seq 0 $((TOTAL_PIXELS - 1))); do
              if [ "${PIXELS[$i]}" -eq 1 ]; then
                ACTIVE_PIXELS=$((ACTIVE_PIXELS + 1))
                if [ "$i" -lt "$PIXEL_INDEX" ]; then
                  COMPLETED_ACTIVE=$((COMPLETED_ACTIVE + 1))
                elif [ "$i" -gt "$PIXEL_INDEX" ]; then
                  REMAINING_ACTIVE=$((REMAINING_ACTIVE + 1))
                fi
              else
                EMPTY_PIXELS=$((EMPTY_PIXELS + 1))
                if [ "$i" -lt "$PIXEL_INDEX" ]; then
                  COMPLETED_EMPTY=$((COMPLETED_EMPTY + 1))
                fi
              fi
            done
            
            TOTAL_COMPLETED=$((COMPLETED_ACTIVE + COMPLETED_EMPTY))
            if [ "$PIXEL_INDEX" -lt "$TOTAL_PIXELS" ]; then
              TOTAL_COMPLETED=$((TOTAL_COMPLETED + 1))
            fi
            PROGRESS=$((TOTAL_COMPLETED * 100 / TOTAL_PIXELS))
            
            echo "   â†’ Total de pixels: $TOTAL_PIXELS"
            echo "   â†’ Pixels activos (ğŸŸ©): $ACTIVE_PIXELS"
            echo "   â†’ Pixels vacÃ­os (â¬œ): $EMPTY_PIXELS"
            echo "   â†’ DÃ­as completados: $TOTAL_COMPLETED / $TOTAL_PIXELS ($PROGRESS%)"
            echo "   â†’ DÃ­as activos restantes: $REMAINING_ACTIVE"
            echo ""
            
            # Barra de progreso visual
            printf "   Progreso: ["
            FILLED=$((PROGRESS / 2))
            EMPTY_BAR=$((50 - FILLED))
            for i in $(seq 1 $FILLED); do printf "â–ˆ"; done
            for i in $(seq 1 $EMPTY_BAR); do printf "â–‘"; done
            printf "] %d%%\n" "$PROGRESS"
            
            echo ""
            echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
            exit 0
          fi
          
          # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
          # Verificar que estamos dentro del rango
          # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
          
          if [ "$PIXEL_INDEX" -ge "$TOTAL_PIXELS" ] || [ "$PIXEL_INDEX" -lt 0 ]; then
            echo "ğŸ“ Fuera del rango del canvas. Nada que hacer hoy."
            exit 0
          fi
          
          # Obtener el valor del pixel actual
          PIXEL_VALUE=${PIXELS[$PIXEL_INDEX]}
          
          echo "ğŸ¨ Pixel actual:"
          echo "   â†’ Valor: $PIXEL_VALUE"
          
          # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
          # ğŸ¯ Determinar acciÃ³n basada en el pixel
          # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
          
          if [ "$PIXEL_VALUE" -eq 0 ]; then
            echo "   â†’ Estado: â¬œ VacÃ­o (sin commits)"
            echo ""
            echo "ğŸ˜´ No hay actividad programada para hoy."
            exit 0
          fi
          
          echo "   â†’ Estado: ğŸŸ© Activo (generando commits)"
          echo ""
          
          # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
          # ğŸ² Generar nÃºmero aleatorio de commits (1-5, raramente 6)
          # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
          
          RANDOM_SEED=$(( $(date +%s) + $$ ))
          RANDOM=$RANDOM_SEED
          
          RAND_VAL=$((RANDOM % 100))
          
          if [ "$RAND_VAL" -lt 85 ]; then
            DAILY_COMMITS=$(( (RANDOM % 5) + 1 ))
          else
            DAILY_COMMITS=6
          fi
          
          HOUR=$(date +%H)
          RUN_INDEX=$((HOUR / 4))  # 0-5
          
          # Distribuir commits entre ejecuciones
          BASE_COMMITS=$((DAILY_COMMITS / 6))
          REMAINDER=$((DAILY_COMMITS % 6))
          
          if [ "$RUN_INDEX" -lt "$REMAINDER" ]; then
            COMMITS_PER_RUN=$((BASE_COMMITS + 1))
          else
            COMMITS_PER_RUN=$BASE_COMMITS
          fi
          
          # Asegurar al menos 1 commit en la primera ejecuciÃ³n del dÃ­a
          if [ "$COMMITS_PER_RUN" -lt 1 ] && [ "$RUN_INDEX" -eq 0 ]; then
            COMMITS_PER_RUN=1
          fi
          
          echo "ğŸ² Commits calculados:"
          echo "   â†’ Total del dÃ­a: $DAILY_COMMITS"
          echo "   â†’ EjecuciÃ³n actual: $((RUN_INDEX + 1)) de 6"
          echo "   â†’ Commits esta ejecuciÃ³n: $COMMITS_PER_RUN"
          echo ""
          
          # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
          # ğŸ”¨ Generar commits
          # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
          
          if [ "$COMMITS_PER_RUN" -lt 1 ]; then
            echo "â­ï¸ Esta ejecuciÃ³n no tiene commits asignados. Â¡Hasta la prÃ³xima!"
            exit 0
          fi
          
          echo "ğŸ”¨ Generando commits..."
          echo ""
          
          mkdir -p .ghost
          
          MESSAGES=(
            "ğŸ‘» Spectral update"
            "ğŸŒ™ Midnight whispers"
            "âœ¨ Ethereal enhancement"
            "ğŸ”® Phantom patch"
            "ğŸ’« Cosmic adjustment"
            "ğŸŒŸ Stellar sync"
            "ğŸ­ Shadow dance"
            "ğŸ¦‡ Night flight"
            "ğŸŒŒ Void optimization"
            "ğŸ‘ï¸ Watchful update"
            "ğŸ•¯ï¸ Candlelight commit"
            "ğŸŒ‘ Dark side fix"
          )
          
          for i in $(seq 1 $COMMITS_PER_RUN); do
            TIMESTAMP=$(date -u +"%Y-%m-%dT%H:%M:%S")
            RANDOM_ID=$(head /dev/urandom | tr -dc 'a-f0-9' | head -c 6)
            MSG_INDEX=$((RANDOM % ${#MESSAGES[@]}))
            MESSAGE="${MESSAGES[$MSG_INDEX]}"
            
            echo "[$TIMESTAMP] Pixel [$CURRENT_WEEK,$CURRENT_DAY] | ID: $RANDOM_ID" >> .ghost/activity.log
            
            git add .ghost/
            git commit -m "$MESSAGE" -m "ğŸ¨ Pixel: Week $CURRENT_WEEK, Day $CURRENT_DAY" --allow-empty
            
            echo "   âœ“ Commit $i/$COMMITS_PER_RUN: $MESSAGE"
            
            sleep 1
          done
          
          echo ""
          echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
          echo "â•‘  âœ… Â¡Completado! $COMMITS_PER_RUN commits generados          â•‘"
          echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"

      - name: ğŸš€ Push changes
        if: ${{ github.event.inputs.preview != 'true' }}
        run: |
          git push origin HEAD 2>/dev/null || echo "ğŸ“­ Nothing to push"
