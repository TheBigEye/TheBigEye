name: ğŸ‘» My Ghost

on:
  schedule:
    - cron: '0 */4 * * *'  # Each 4 hours...
  workflow_dispatch:
    inputs:
      preview:
        description: 'ğŸ‘ï¸ Show my cooooommiiits'
        type: boolean
        default: false

jobs:
  generate-activity:
    runs-on: ubuntu-latest
    
    steps:
      - name: ğŸ‘» Checkout repository
        uses: actions/checkout@v4
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
          fetch-depth: 0

      - name: âš™ï¸ Configure Git
        run: |
          git config user.name "TheBigEye"
          git config user.email "thebigeyedev@gmail.com"

      - name: ğŸ¨ Generate Art
        env:
          PREVIEW_ONLY: ${{ github.event.inputs.preview }}
        run: |
          # â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
          # â•‘                                          ğŸ¨ PIXEL ART CANVAS                                               â•‘
          # â•‘                                                                                                            â•‘
          # â•‘  ğŸ“ Dimensions: 53 columns Ã— 7 rows (53 weeks Ã— 7 days)                                                    â•‘
          # â•‘  ğŸ¯ Values: 0 = empty (not commits) | 1 = coloured pixel (1-6 commits random)                             â•‘
          # â•‘                                                                                                            â•‘
          # â•‘  ğŸ“… Las filas representan dÃ­as de la semana:                                                               â•‘
          # â•‘     Fila 1 = Domingo                                                                                       â•‘
          # â•‘     Fila 2 = Lunes                                                                                         â•‘
          # â•‘     Fila 3 = Martes                                                                                        â•‘
          # â•‘     Fila 4 = MiÃ©rcoles                                                                                     â•‘
          # â•‘     Fila 5 = Jueves                                                                                        â•‘
          # â•‘     Fila 6 = Viernes                                                                                       â•‘
          # â•‘     Fila 7 = SÃ¡bado                                                                                        â•‘
          # â•‘                                                                                                            â•‘
          # â•‘  ğŸ’¡ Tip: DiseÃ±a tu arte en un editor de texto y copia aquÃ­                                                 â•‘
          # â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
          
          # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
          #  ğŸ–¼ï¸ TU DISEÃ‘O AQUÃ - Ejemplo: Texto "HELLO GITHUB"
          # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
          
          read -r -d '' PIXEL_ART << 'CANVAS' || true
          1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
          1 0 0 1 0 1 0 0 0 0 1 0 0 1 1 1 0 0 1 1 1 0 0 0 0 1 1 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 1 0 1
          1 0 0 1 0 1 0 0 1 1 1 0 0 1 1 1 0 0 1 1 1 0 0 1 0 1 1 1 0 0 1 1 1 0 0 1 0 1 0 0 1 1 1 0 0 1 1 1 0 0 0 0 1
          1 0 0 0 0 1 0 0 0 1 1 0 0 1 1 1 0 0 1 1 1 0 0 1 0 1 1 1 0 0 0 0 1 0 0 0 1 1 0 0 0 1 1 0 0 0 1 1 0 0 0 0 1
          1 0 0 1 0 1 0 0 1 1 1 0 0 1 1 1 0 0 1 1 1 0 0 1 0 1 1 1 0 0 1 0 1 0 0 1 0 1 0 0 1 1 1 0 0 1 1 1 0 0 1 0 1
          1 0 0 1 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 1 1 0 0 0 0 1 0 0 1 0 1 0 0 0 0 1 0 0 0 0 1 0 0 1 0 1
          1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
          CANVAS

          # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
          #  âš¡ OTROS DISEÃ‘OS DE EJEMPLO (descomenta el que quieras usar)
          # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
          
          # ğŸ’– CorazÃ³n
          # read -r -d '' PIXEL_ART << 'CANVAS' || true
          # 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1 0 0 0 1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
          # 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1 1 1 0 1 1 1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
          # 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1 1 1 1 1 1 1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
          # 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1 1 1 1 1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
          # 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1 1 1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
          # 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
          # 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
          # CANVAS

          # ğŸ‘» Fantasma
          # read -r -d '' PIXEL_ART << 'CANVAS' || true
          # 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1 1 1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
          # 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1 1 1 1 1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
          # 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 1 1 0 1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
          # 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1 1 1 1 1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
          # 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1 1 1 1 1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
          # 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1 1 1 1 1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
          # 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 1 0 1 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
          # CANVAS

          # ğŸŒŠ Onda continua
          # read -r -d '' PIXEL_ART << 'CANVAS' || true
          # 0 0 0 0 1 1 0 0 0 0 0 0 1 1 0 0 0 0 0 0 1 1 0 0 0 0 0 0 1 1 0 0 0 0 0 0 1 1 0 0 0 0 0 0 1 1 0 0 0 0 0 0 0
          # 0 0 0 1 0 0 1 0 0 0 0 1 0 0 1 0 0 0 0 1 0 0 1 0 0 0 0 1 0 0 1 0 0 0 0 1 0 0 1 0 0 0 0 1 0 0 1 0 0 0 0 0 0
          # 0 0 1 0 0 0 0 1 0 0 1 0 0 0 0 1 0 0 1 0 0 0 0 1 0 0 1 0 0 0 0 1 0 0 1 0 0 0 0 1 0 0 1 0 0 0 0 1 0 0 0 0 0
          # 0 1 0 0 0 0 0 0 1 1 0 0 0 0 0 0 1 1 0 0 0 0 0 0 1 1 0 0 0 0 0 0 1 1 0 0 0 0 0 0 1 1 0 0 0 0 0 0 1 0 0 0 0
          # 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0
          # 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0
          # 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1
          # CANVAS

          # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
          #  ğŸ”§ LÃ“GICA DEL WORKFLOW (no necesitas modificar nada debajo de esta lÃ­nea)
          # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
          
          echo ""
          echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
          echo "â•‘           ğŸ‘» GHOST ACTIVITY ART GENERATOR ğŸ‘»                 â•‘"
          echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          echo ""
          
          # Convertir el arte a un array
          PIXELS=($PIXEL_ART)
          TOTAL_PIXELS=${#PIXELS[@]}
          EXPECTED_PIXELS=$((53 * 7))  # 371 pixels
          
          echo "ğŸ“Š ValidaciÃ³n del canvas:"
          echo "   â†’ Pixels encontrados: $TOTAL_PIXELS"
          echo "   â†’ Pixels esperados: $EXPECTED_PIXELS"
          
          if [ "$TOTAL_PIXELS" -ne "$EXPECTED_PIXELS" ]; then
            echo ""
            echo "âš ï¸  Â¡Advertencia! El canvas no tiene las dimensiones correctas (53Ã—7)"
            echo "   Se usarÃ¡n los pixels disponibles..."
          fi
          echo ""
          
          # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
          # ğŸ“… Calcular quÃ© dÃ­a del aÃ±o es hoy
          # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
          
          # Fecha de inicio (primer domingo del aÃ±o o inicio del grÃ¡fico de GitHub)
          YEAR=$(date +%Y)
          START_DATE="${YEAR}-01-01"
          
          # Ajustar al primer domingo
          START_DOW=$(date -d "$START_DATE" +%w 2>/dev/null || date -j -f "%Y-%m-%d" "$START_DATE" +%w)
          if [ "$START_DOW" -ne 0 ]; then
            DAYS_TO_SUNDAY=$((7 - START_DOW))
            START_DATE=$(date -d "$START_DATE + $DAYS_TO_SUNDAY days" +%Y-%m-%d 2>/dev/null || \
                         date -j -v+${DAYS_TO_SUNDAY}d -f "%Y-%m-%d" "$START_DATE" +%Y-%m-%d)
          fi
          
          START_EPOCH=$(date -d "$START_DATE" +%s 2>/dev/null || date -j -f "%Y-%m-%d" "$START_DATE" +%s)
          CURRENT_EPOCH=$(date +%s)
          DAYS_ELAPSED=$(( (CURRENT_EPOCH - START_EPOCH) / 86400 ))
          
          # Calcular semana y dÃ­a
          CURRENT_WEEK=$((DAYS_ELAPSED / 7))
          CURRENT_DAY=$((DAYS_ELAPSED % 7))
          
          # Ãndice en el array (columna * 7 + fila)
          PIXEL_INDEX=$((CURRENT_WEEK * 7 + CURRENT_DAY))
          
          echo "ğŸ“… InformaciÃ³n de fecha:"
          echo "   â†’ Fecha inicio grÃ¡fico: $START_DATE"
          echo "   â†’ DÃ­as transcurridos: $DAYS_ELAPSED"
          echo "   â†’ Semana actual: $CURRENT_WEEK (de 53)"
          echo "   â†’ DÃ­a de la semana: $CURRENT_DAY (0=Dom, 6=SÃ¡b)"
          echo "   â†’ Ãndice del pixel: $PIXEL_INDEX"
          echo ""
          
          # Verificar que estamos dentro del rango
          if [ "$PIXEL_INDEX" -ge "$TOTAL_PIXELS" ] || [ "$PIXEL_INDEX" -lt 0 ]; then
            echo "ğŸ“ Fuera del rango del canvas. Nada que hacer hoy."
            exit 0
          fi
          
          # Obtener el valor del pixel actual
          PIXEL_VALUE=${PIXELS[$PIXEL_INDEX]}
          
          echo "ğŸ¨ Pixel actual:"
          echo "   â†’ Valor: $PIXEL_VALUE"
          
          # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
          # ğŸ¯ Determinar acciÃ³n basada en el pixel
          # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
          
          if [ "$PIXEL_VALUE" -eq 0 ]; then
            echo "   â†’ Estado: â¬œ VacÃ­o (sin commits)"
            echo ""
            echo "ğŸ˜´ No hay actividad programada para hoy."
            exit 0
          fi
          
          echo "   â†’ Estado: ğŸŸ© Activo (generando commits)"
          echo ""
          
          # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
          # ğŸ² Generar nÃºmero aleatorio de commits (1-5, raramente 6)
          # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
          
          # 85% probabilidad: 1-5 commits
          # 15% probabilidad: 6 commits
          RANDOM_SEED=$(($(date +%s%N 2>/dev/null || echo $(($(date +%s) * $$))) % 100))
          
          if [ "$RANDOM_SEED" -lt 85 ]; then
            # 1-5 commits (distribuciÃ³n normal)
            DAILY_COMMITS=$((1 + (RANDOM_SEED % 5)))
          else
            # 6 commits (raro)
            DAILY_COMMITS=6
          fi
          
          # Dividir commits entre las ejecuciones del dÃ­a (cada 4 horas = 6 ejecuciones)
          HOUR=$(date +%H)
          RUN_INDEX=$((HOUR / 4))  # 0-5
          
          # Distribuir commits de manera pseudo-aleatoria entre ejecuciones
          COMMITS_PER_RUN=$(( (DAILY_COMMITS + RUN_INDEX) / 6 ))
          REMAINDER=$((DAILY_COMMITS % 6))
          
          if [ "$RUN_INDEX" -lt "$REMAINDER" ]; then
            COMMITS_PER_RUN=$((COMMITS_PER_RUN + 1))
          fi
          
          # Asegurar al menos 1 commit si estamos en una ejecuciÃ³n activa
          if [ "$COMMITS_PER_RUN" -lt 1 ] && [ "$RUN_INDEX" -eq 0 ]; then
            COMMITS_PER_RUN=1
          fi
          
          echo "ğŸ² Commits calculados:"
          echo "   â†’ Total del dÃ­a: $DAILY_COMMITS"
          echo "   â†’ EjecuciÃ³n actual: $((RUN_INDEX + 1)) de 6"
          echo "   â†’ Commits esta ejecuciÃ³n: $COMMITS_PER_RUN"
          echo ""
          
          # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
          # ğŸ‘ï¸ Modo Preview
          # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
          
          if [ "$PREVIEW_ONLY" = "true" ]; then
            echo "ğŸ‘ï¸ MODO PREVIEW - No se realizarÃ¡n commits"
            echo ""
            echo "Vista previa del canvas (prÃ³ximas 4 semanas):"
            echo ""
            
            for row in 0 1 2 3 4 5 6; do
              case $row in
                0) printf "  Dom: " ;;
                1) printf "  Lun: " ;;
                2) printf "  Mar: " ;;
                3) printf "  MiÃ©: " ;;
                4) printf "  Jue: " ;;
                5) printf "  Vie: " ;;
                6) printf "  SÃ¡b: " ;;
              esac
              
              for week in $(seq $CURRENT_WEEK $((CURRENT_WEEK + 3))); do
                idx=$((week * 7 + row))
                if [ "$idx" -lt "$TOTAL_PIXELS" ]; then
                  if [ "${PIXELS[$idx]}" -eq 1 ]; then
                    if [ "$idx" -eq "$PIXEL_INDEX" ]; then
                      printf "ğŸ”µ"  # DÃ­a actual
                    else
                      printf "ğŸŸ©"
                    fi
                  else
                    printf "â¬œ"
                  fi
                fi
              done
              echo ""
            done
            echo ""
            echo "ğŸ”µ = Hoy | ğŸŸ© = Activo | â¬œ = VacÃ­o"
            exit 0
          fi
          
          # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
          # ğŸ”¨ Generar commits
          # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
          
          if [ "$COMMITS_PER_RUN" -lt 1 ]; then
            echo "â­ï¸ Esta ejecuciÃ³n no tiene commits asignados. Â¡Hasta la prÃ³xima!"
            exit 0
          fi
          
          echo "ğŸ”¨ Generando commits..."
          echo ""
          
          # Crear directorio para los commits
          mkdir -p .ghost
          
          # Mensajes creativos para los commits
          MESSAGES=(
            "ğŸ‘» Spectral update"
            "ğŸŒ™ Midnight whispers"
            "âœ¨ Ethereal enhancement"
            "ğŸ”® Phantom patch"
            "ğŸ’« Cosmic adjustment"
            "ğŸŒŸ Stellar sync"
            "ğŸ­ Shadow dance"
            "ğŸ¦‡ Night flight"
            "ğŸŒŒ Void optimization"
            "ğŸ‘ï¸ Watchful update"
            "ğŸ•¯ï¸ Candlelight commit"
            "ğŸŒ‘ Dark side fix"
          )
          
          for i in $(seq 1 $COMMITS_PER_RUN); do
            TIMESTAMP=$(date -u +"%Y-%m-%dT%H:%M:%S")
            RANDOM_ID=$(head /dev/urandom | tr -dc 'a-f0-9' | head -c 6)
            MSG_INDEX=$((RANDOM % ${#MESSAGES[@]}))
            MESSAGE="${MESSAGES[$MSG_INDEX]}"
            
            # Actualizar log
            echo "[$TIMESTAMP] Pixel [$CURRENT_WEEK,$CURRENT_DAY] | ID: $RANDOM_ID" >> .ghost/activity.log
            
            # Hacer commit
            git add .ghost/
            git commit -m "$MESSAGE" -m "ğŸ¨ Pixel: Week $CURRENT_WEEK, Day $CURRENT_DAY" --allow-empty 2>/dev/null || true
            
            echo "   âœ“ Commit $i/$COMMITS_PER_RUN: $MESSAGE"
            
            # PequeÃ±a pausa entre commits
            sleep 1
          done
          
          echo ""
          echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
          echo "â•‘  âœ… Â¡Completado! $COMMITS_PER_RUN commits generados          â•‘"
          echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"

      - name: ğŸš€ Push changes
        if: ${{ github.event.inputs.preview != 'true' }}
        run: |
          git push origin HEAD 2>/dev/null || echo "ğŸ“­ Nothing to push"
